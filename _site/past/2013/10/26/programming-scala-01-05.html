<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Scala程序设计读书笔记[1:5]</title>
  <meta name="description" content=""> 
  
  <script src="//libs.baidu.com/jquery/1.7.2/jquery.min.js"></script>
  <script src="//libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="//libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="//libs.baidu.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">
  
  <script src="/js/common.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/pygments.css">
  <link rel="stylesheet" href="/css/github-markdown.css">
  <link rel="canonical" href="/past/2013/10/26/programming-scala-01-05.html">
</head>

  <body>

    <header class="navbar navbar-responsive-top jw-docs-nav" id="top" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".jw-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img class="gravatar" alt="John Wong" src="http://gravatar.duoshuo.com/avatar/135dee388c0976f500748a64960038ee?s=88">
        <span class="name">John Wong</span>
      </a>
    </div>
    <nav class="collapse navbar-collapse jw-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        
        <li class="">
          <a href="/category/mobile.html">mobile</a>
        </li>
        
        <li class="">
          <a href="/category/security.html">security</a>
        </li>
        
        <li class="">
          <a href="/category/showcase.html">showcase</a>
        </li>
        
        <li class="active">
          <a href="/category/past.html">past</a>
        </li>
        
        <!-- <li>
          <a href="#">Bookmarks</a>
        </li> -->
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="/about.html" target="_blank">About</a>
        </li>
      </ul>
    </nav>
  </div>
</header>
    
    <div class="page-content">
      <div class="wrapper">
        
  

  

  

  
    
  

<div class="container post-middle">
  <div class="row">
    <div class="col-md-9" role="main">
      <div class="post">
<<<<<<< HEAD
        <div class="post-poster">
          <img class="feature-img" alt="Scala程序设计读书笔记[1:5]" src="">
        </div>
=======
        
>>>>>>> fix travis-ci error
        <h1 class="post-big-title">
          Scala程序设计读书笔记[1:5]
        </h1>
        <div class="post-author">
          <a class="category" href="/category/past.html"><span class="glyphicon glyphicon-time"></span>past</a> | <span id="author" class="author"></span> • Oct 26, 2013
        </div>
        <div class="markdown-body">
          <h2>Scala程序设计: Java虚拟机多核编程实战</h2>

<p>一直好奇什么样的语言能够不需要加锁解决线程同步问题，能够解决Twitter的性能问题，想了解什么是函数式编程。于是找工作的间隙看了这本书，扩展一下视野。</p>

<p>Source Code: <a href="http://media.pragprog.com/titles/vsscala/code/vsscala-code.zip">http://media.pragprog.com/titles/vsscala/code/vsscala-code.zip</a></p>

<p>Scala Online Editor：</p>

<p>URL: <a href="http://www.scala-tour.com/#/expression-and-values">http://www.scala-tour.com/#/expression-and-values</a><br>
API: <a href="http://www.scala-tour.com/run?code=println(%22abc%22)">http://www.scala-tour.com/run?code=println(%22abc%22)</a></p>

<h3>第一章 简介</h3>

<p>Scala混合了函数式和面向对象。用Scala创建多线程应用的时候，你会倾向于函数式编程风格，用不变状态编写无锁代码。Scala提供了一个基于actor的消息传递模型，消除了并发的数据竞争和加锁问题。</p>

<p>在函数式编程中，和ErLang相比的优势：a) 强类型，b) 运行与JVM，可以与Java互操作。</p>

<p>与JVM其他语言Groovy、JRuby和Clojure相比，优势是：能通同时提供函数式风格和良好并发支持的强类型语言。</p>

<p>Scala特性：</p>

<ul>
<li>基于事件的并发模型</li>
<li>既支持命令式风格，也支持函数式风格</li>
<li>纯面向对象的</li>
<li>与Java混合</li>
<li>强制使用自适应静态类型</li>
<li>简洁而又表现力</li>
<li>构建于一个微内核之上</li>
<li>高度可扩展，用更少代码创建高性能应用</li>
</ul>

<h3>第二章 起步</h3>

<p>下载地址：<a href="http://www.scala-lang.org">http://www.scala-lang.org</a>
脚本运行建议sublime text+自定义build system。
编译scala可以使用IDE+插件<a href="http://www.scala-lang.org/old/node/91">http://www.scala-lang.org/old/node/91</a></p>

<h3>第三章 Scala步入正轨</h3>

<ol>
<li><p>val相对var初始化后不可改变变量指向其他引用</p></li>
<li><p>点和括号是可选的</p></li>
<li><p>Scala把一切视作对象</p></li>
<li><p>元组和多重赋值</p></li>
<li><p>三引号的多行字符串以及前导符“|”</p></li>
<li><p>自适应默认做法：<br>
a) 支持脚本<br>
b) return可选，自动返回最后的求值表达式。如果使用return需要显式提供方法返回类型<br>
c) 分号半可选，可能产生歧义的时候需要加<br>
d) 类和方法默认public，不必显示写<br>
e) 轻量级JavaBean创建<br>
f) 不强制捕获不关心的异常</p></li>
<li><p>默认导入包：
java.lang：常用java类型；
scala：Scala类型；
scalaPredef：类型，隐式转换及常用方法</p></li>
<li><p>运算符重载，实际没有运算符，是方法名省略了点和括号的方法。</p></li>
<li><p>复制结果是Unit，因此a=b=c在scala中不存在</p></li>
<li><p>==基于值比较，继承字Any类，为final。特定实现需要改写equals方法。基于引用比较需要使用eq方法。</p></li>
<li><p>细粒度访问控制，private和protected可以加访问控制，this或者包名</p></li>
</ol>

<h3>第四章 Scala的类</h3>

<ol>
<li><p>定义字段、方法和构造函数
Scala把主构造函数放到了类定义中。参数中的val转换成private final字段，并创建同名public取值方法。声明为var的定义为private，并创建public取值和赋值方法。都不是的话创建private字段和private的getter和setter。放到类定义中的任何表达式或者可执行语句都作为主函数的一部分。定义变量时_代表使用默认值。</p></li>
<li><p>类继承重写方法需要override关键字。副构造函数可以通过定义this方法实现。副构造函数第一条语句要么调用主构造函数，要么调用副构造函数。只有主构造函数才能往基类构造函数中传参数。</p></li>
<li><p>单例对象
使用object创建，不能给其主构造函数传递参数。</p></li>
<li><p>伴生对象
创建一个object和类同名，就是伴生对象。类和伴生对象之间没有界限，可以互相访问private内容。把类的构造函数标记为private就可以实现单例对象。</p></li>
<li><p>static  scala没有静态字段和静态方法，通过伴生对象支持类一级的操作。伴生对象加括号调用其apply方法。</p></li>
</ol>

<h3>第五章 自适应类型</h3>

<ol>
<li><p>静态类型  又称成编译时类型检查。scala根据定义或赋值推演类型，如果将其他类型赋给将会编译错误。</p></li>
<li><p>Scala中特殊类型：Any、Nothing和Option</p></li>
<li><p>import语句里的下划线相当于java中的星号。如果加在类名后相当于static import。默认引入当前目录。被引用的scala文件需要先scalac编译。</p></li>
<li><p>容器和类型推演  不带类型的容器实际传入了Nothing。因此带类型容器不能赋给不带类型容器的引用。也不能赋给Any类型的容器。只有容器类型相同才能赋给。</p></li>
<li><p>Any类型  是所有Scala类型的超类，抽象类。方法由!=, =, asInstanceOf, equals, hashCode, isInstanceOf, toString。直接后代是AnyVal和AnyRef。AnyRef包含了Java的Object方法，如notify，wait，finalize。</p></li>
<li><p>Nothing类型  所有类型的子类，实例不会存在，作用是帮助类型推演更加平滑。</p></li>
<li><p>Option类型  Some[T]和None都继承自Option[T]。其getOrElse方法可以得到值，如果不存在，得到传入的参数。</p></li>
<li><p>方法返回类型推演  使用等号定义方法启用方法返回类型推演。</p></li>
<li><p>传递变参  如果方法接受参数需要指定参数名字及类型。末尾参数可以接受可变数目的实参，在类型信息后使用星号。但是不能传入数组。如果想将数组展开成离散值，可以用:_*</p></li>
<li><p>Scala不支持协变和你变。子类实例容器赋给基类容器能力称为协变，超类实例容器赋给子类容器的能力称为逆变。</p></li>
<li><p>参数化类型的可变性  通过特殊语法实现子类数组当作父类数组：playWithPets[T &lt;: Pet](pets: Array[T])。也可以将数组的参数化类型限定为源数组参数化类型的超类：copyPets[S, D &gt;: S](fromPets: Array[S], toPets: Array[D])。可以把派生类容器当作基类的容器，实现协变：MyList[+T]；也可以用-T实现逆变。</p></li>
</ol>

        </div>
        
        <div id="disqus_head" class="disqus_head">
  <h2>Comments</h2>
</div>
<div id="disqus_thread" class="disqus_thread"></div>
<script type="text/javascript" async=true src="//johnwong.disqus.com/embed.js"></script>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
    </div>
    <div class="col-md-3 index-right">

      <img class="gravatar index-gravatar" alt="John Wong" src="http://gravatar.duoshuo.com/avatar/135dee388c0976f500748a64960038ee?s=240">
<h1 class="index-me">
  <span>John Wong <a href="https://github.com/JohnWong">@Github</a></span>
</h1>
<div class="vcard-stats">
  <a class="vcard-stat" href="https://github.com/JohnWong/followers">
    <strong class="vcard-stat-count">20</strong> followers
  </a>
  <a class="vcard-stat" href="https://github.com/stars/JohnWong">
    <strong class="vcard-stat-count">43</strong> Starred
  </a>
  <a class="vcard-stat" href="https://github.com/JohnWong/following">
    <strong class="vcard-stat-count">10</strong> Following
  </a>
  <div class="cf"></div>
</div>

    </div>
  </div>
</div>
      </div>
    </div>
    
    <footer class="jw-docs-footer" role="contentinfo">
  <div class="container">
    <div class="jw-docs-social">
      <ul class="jw-docs-social-buttons">
        <li class="github-btn">
          <iframe class="github-btn" src="http://ghbtns.com/github-btn.html?user=JohnWong&type=follow&count=true&size=small" width="165" height="20" title="Follow on GitHub"></iframe>
        </li>
        <li class="github-btn">
          <iframe class="github-btn" src="http://pytool.sinaapp.com/wb-btn?user=2180280355&type=follow&count=true&size=small&encoding=utf-8" width="160" height="20" title="Follow on Weibo"></iframe>
        </li>
        <!-- 解决linkedin抓数据500错误前关闭按钮
                    <li class="github-btn">
                        <iframe class="github-btn" src="http://pytool.sinaapp.com/in-btn?user=xiaozhe-huang/4b/204/71b&count=true&size=small&encoding=utf-8" width="202" height="20" title="Follow on Weibo"></iframe>
                    </li>
                -->
      </ul>
    </div>
    <p>自豪地采用自己做的博客系统
      <br class="footer-desc-endline">with the help of <a href="http://getbootstrap.com/">Twitter Bootstrap</a> & <a href="https://github.com/jekyll/jekyll">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>
      <p>
        <ul class="jw-docs-footer-links muted">
          <li>© 2014 • <a href="https://github.com/JohnWong">John Wong</a> <span class="rss-subscribe"> | subscribe <a href="/feed.xml">via RSS</a></span>
          </li>
        </ul>
  </div>
  <div style="display:none">
    <div style="display: none !important"
<span id='cnzz_stat_icon_1252918306'></span>
<script src='http://s23.cnzz.com/z_stat.php?id=1252918306' type='text/javascript'></script>
    <script>
(function(i, s, o, g, r, a, m) {
  i['GoogleAnalyticsObject'] = r;
  i[r] = i[r] || function() {
    (i[r].q = i[r].q || []).push(arguments)
  }, i[r].l = 1 * new Date();
  a = s.createElement(o),
    m = s.getElementsByTagName(o)[0];
  a.async = 1;
  a.src = g;
  m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

ga('create', 'UA-53121297-1', 'auto');
ga('send', 'pageview');
</script>
  </div>
</footer>

  </body>

</html>
