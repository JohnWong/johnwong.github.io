<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Code Jam 2010 Round 1A Problem A</title>
  <meta name="description" content=""> 
  
  <script src="//libs.baidu.com/jquery/1.7.2/jquery.min.js"></script>
  <script src="//libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="//libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="//libs.baidu.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">
  
  <script src="/js/common.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/pygments.css">
  <link rel="stylesheet" href="/css/github-markdown.css">
  <link rel="canonical" href="/past/2013/09/18/code-jam-2010-round-1a-problem-a.html">
</head>

  <body>

    <header class="navbar navbar-responsive-top jw-docs-nav" id="top" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".jw-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img class="gravatar" alt="John Wong" src="http://gravatar.duoshuo.com/avatar/135dee388c0976f500748a64960038ee?s=88">
        <span class="name">John Wong</span>
      </a>
    </div>
    <nav class="collapse navbar-collapse jw-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        
        <li class="">
          <a href="/category/mobile.html">mobile</a>
        </li>
        
        <li class="">
          <a href="/category/security.html">security</a>
        </li>
        
        <li class="">
          <a href="/category/showcase.html">showcase</a>
        </li>
        
        <li class="active">
          <a href="/category/past.html">past</a>
        </li>
        
        <!-- <li>
          <a href="#">Bookmarks</a>
        </li> -->
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="/about.html" target="_blank">About</a>
        </li>
      </ul>
    </nav>
  </div>
</header>
    
    <div class="page-content">
      <div class="wrapper">
        
  

  

  

  
    
  

<div class="container post-middle">
  <div class="row">
    <div class="col-md-9" role="main">
      <div class="post">
        <div class="post-poster">
          <img class="feature-img" alt="Code Jam 2010 Round 1A Problem A" src="">
        </div>
        <h1 class="post-big-title">
          Code Jam 2010 Round 1A Problem A
        </h1>
        <div class="post-author">
          <a class="category" href="category.html?cat=Life"><span class="glyphicon glyphicon-time"></span>past</a> | <span id="author" class="author"></span> • Sep 18, 2013
        </div>
        <div class="markdown-body">
          <p><a href="https://code.google.com/codejam/contest/544101/dashboard#s=p0">https://code.google.com/codejam/contest/544101/dashboard#s=p0</a></p>

<h3>Problem A. Rotate</h3>

<h4>Problem</h4>

<p>In the exciting game of Join-K, red and blue pieces are dropped into an N-by-N table. The table stands up vertically so that pieces drop down to the bottom-most empty slots in their column. For example, consider the following two configurations:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">    - Legal Position -

          .......
          .......
          .......
          ....R..
          ...RB..
          ..BRB..
          .RBBR..
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">   - Illegal Position -

          .......
          .......
          .......
          .......
   Bad -&gt; ..BR...
          ...R...
          .RBBR..
</code></pre></div>
<p>In these pictures, each &#39;.&#39; represents an empty slot, each &#39;R&#39; represents a slot filled with a red piece, and each &#39;B&#39; represents a slot filled with a blue piece. The left configuration is legal, but the right one is not. This is because one of the pieces in the third column (marked with the arrow) has not fallen down to the empty slot below it.</p>

<p>A player wins if they can place at least K pieces of their color in a row, either horizontally, vertically, or diagonally. The four possible orientations are shown below:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">      - Four in a row -

     R   RRRR    R   R
     R          R     R
     R         R       R
     R        R         R
</code></pre></div>
<p>In the &quot;Legal Position&quot; diagram at the beginning of the problem statement, both players had lined up two pieces in a row, but not three.
As it turns out, you are right now playing a very exciting game of Join-K, and you have a tricky plan to ensure victory! When your opponent is not looking, you are going to rotate the board 90 degrees clockwise onto its side. Gravity will then cause the pieces to fall down into a new position as shown below:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">    - Start -

     .......
     .......
     .......
     ...R...
     ...RB..
     ..BRB..
     .RBBR..
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">   - Rotate -

     .......
     R......
     BB.....
     BRRR...
     RBB....
     .......
     .......
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">   - Gravity -

     .......
     .......
     .......
     R......
     BB.....
     BRR....
     RBBR...
</code></pre></div>
<p>Unfortunately, you only have time to rotate once before your opponent will notice.
All that remains is picking the right time to make your move. Given a board position, you should determine which player (or players!) will have K pieces in a row after you rotate the board clockwise and gravity takes effect in the new direction.</p>

<h4>Notes</h4>

<ul>
<li>You can rotate the board only once.</li>
<li>Assume that gravity only takes effect after the board has been rotated completely.</li>
<li>Only check for winners after gravity has finished taking effect.</li>
</ul>

<h4>Input</h4>

<p>The first line of the input gives the number of test cases, T. T test cases follow, each beginning with a line containing the integers N and K. The next N lines will each be exactly N characters long, showing the initial position of the board, using the same format as the diagrams above.</p>

<p>The initial position in each test case will be a legal position that can occur during a game of Join-K. In particular, neither player will have already formed K pieces in a row.</p>

<h4>Output</h4>

<p>For each test case, output one line containing &quot;Case #x: y&quot;, where x is the case number (starting from 1), and y is one of &quot;Red&quot;, &quot;Blue&quot;, &quot;Neither&quot;, or &quot;Both&quot;. Here, y indicates which player or players will have K pieces in a row after you rotate the board.</p>

<h4>Limits</h4>

<p>1 ≤ T ≤ 100.
3 ≤ K ≤ N.</p>

<h4>Small dataset</h4>

<p>3 ≤ N ≤ 7.</p>

<h4>Large dataset</h4>

<p>3 ≤ N ≤ 50.</p>

<p>Sample</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Input

4
7 3
.......
.......
.......
...R...
...BB..
..BRB..
.RRBR..
6 4
......
......
.R...R
.R..BB
.R.RBR
RB.BBB
4 4
R...
BR..
BR..
BR..
3 3
B..
RB.
RB.

Output 

Case #1: Neither
Case #2: Both
Case #3: Red
Case #4: Blue
</code></pre></div>
<p>解题思路：</p>

<p>先将矩阵旋转，然后在横向、纵向和两个斜向查找。根据旋转后的性质，可以在适当的地方提前退出。斜向检查的横纵坐标会麻烦一些。开始犯的错误是没有检查另一个斜向。</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kt">int</span><span class="o">[][]</span> <span class="nf">rotate</span><span class="o">(</span><span class="kt">char</span><span class="o">[][]</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span><span class="o">[][]</span> <span class="n">ret</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">d</span><span class="o">.</span><span class="na">length</span><span class="o">][</span><span class="n">d</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">rx</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
        <span class="kt">boolean</span> <span class="n">hasMore</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">--)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="sc">&#39;R&#39;</span> <span class="o">||</span> <span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="sc">&#39;B&#39;</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">ret</span><span class="o">[</span><span class="n">rx</span><span class="o">][</span><span class="n">d</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="sc">&#39;R&#39;</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="o">;</span>
                <span class="n">rx</span><span class="o">--;</span>
                <span class="n">hasMore</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">hasMore</span><span class="o">)</span>
            <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">ret</span><span class="o">;</span>
<span class="o">}</span>

<span class="c1">// H check</span>
<span class="kt">int</span> <span class="nf">checkWinH</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">d</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">winner</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">current</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">boolean</span> <span class="n">hasMore</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span>
                <span class="n">hasMore</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">!=</span> <span class="n">current</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">];</span>
                <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">count</span><span class="o">++;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">count</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">winner</span> <span class="o">|=</span> <span class="n">current</span><span class="o">;</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">winner</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span>
                        <span class="k">return</span> <span class="n">winner</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">hasMore</span><span class="o">)</span>
            <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">winner</span><span class="o">;</span>
<span class="o">}</span>

<span class="c1">// V check</span>
<span class="kt">int</span> <span class="nf">checkWinV</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">d</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">winner</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">current</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">boolean</span> <span class="n">hasMore</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span>
                <span class="n">hasMore</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">!=</span> <span class="n">current</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">];</span>
                <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">count</span><span class="o">++;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">count</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">winner</span> <span class="o">|=</span> <span class="n">current</span><span class="o">;</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">winner</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span>
                        <span class="k">return</span> <span class="n">winner</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">hasMore</span><span class="o">)</span>
            <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">winner</span><span class="o">;</span>
<span class="o">}</span>

<span class="c1">// D check</span>
<span class="kt">int</span> <span class="nf">checkWinD</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">d</span><span class="o">,</span> <span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">winner</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="n">k</span><span class="o">;</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">--)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">current</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">oj</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span> <span class="n">oj</span> <span class="o">&lt;</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++,</span> <span class="n">oj</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">oj</span><span class="o">]);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">oj</span><span class="o">]</span> <span class="o">!=</span> <span class="n">current</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">oj</span><span class="o">];</span>
                <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">count</span><span class="o">++;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">count</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">winner</span> <span class="o">|=</span> <span class="n">current</span><span class="o">;</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">winner</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span>
                        <span class="k">return</span> <span class="n">winner</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="n">k</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">current</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">oi</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span> <span class="n">oi</span> <span class="o">&lt;</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++,</span> <span class="n">oi</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">oi</span><span class="o">][</span><span class="n">j</span><span class="o">]);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">oi</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">!=</span> <span class="n">current</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">d</span><span class="o">[</span><span class="n">oi</span><span class="o">][</span><span class="n">j</span><span class="o">];</span>
                <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">count</span><span class="o">++;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">count</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">winner</span> <span class="o">|=</span> <span class="n">current</span><span class="o">;</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">winner</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span>
                        <span class="k">return</span> <span class="n">winner</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">d</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">current</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">oi</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span> <span class="n">oi</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">++,</span> <span class="n">oi</span><span class="o">--)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">oi</span><span class="o">][</span><span class="n">j</span><span class="o">]);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">oi</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">!=</span> <span class="n">current</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">d</span><span class="o">[</span><span class="n">oi</span><span class="o">][</span><span class="n">j</span><span class="o">];</span>
                <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">count</span><span class="o">++;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">count</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">winner</span> <span class="o">|=</span> <span class="n">current</span><span class="o">;</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">winner</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span>
                        <span class="k">return</span> <span class="n">winner</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="n">k</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">current</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="n">oj</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span> <span class="n">oj</span> <span class="o">&lt;</span> <span class="n">d</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">oj</span><span class="o">++,</span> <span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">oj</span><span class="o">]);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">oj</span><span class="o">]</span> <span class="o">!=</span> <span class="n">current</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">d</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">oj</span><span class="o">];</span>
                <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">count</span><span class="o">++;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">count</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">winner</span> <span class="o">|=</span> <span class="n">current</span><span class="o">;</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">winner</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span>
                        <span class="k">return</span> <span class="n">winner</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">winner</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">COUNT</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="n">COUNT</span><span class="o">;</span> <span class="n">c</span><span class="o">++)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">t</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
        <span class="kt">char</span><span class="o">[][]</span> <span class="n">ori</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="o">[</span><span class="n">t</span><span class="o">][</span><span class="n">t</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">t</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">t</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">ori</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="kt">int</span><span class="o">[][]</span> <span class="n">tar</span> <span class="o">=</span> <span class="n">rotate</span><span class="o">(</span><span class="n">ori</span><span class="o">);</span>
        <span class="n">print</span><span class="o">(</span><span class="n">tar</span><span class="o">);</span>
        <span class="n">debug</span><span class="o">(</span><span class="n">c</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">checkWinH</span><span class="o">(</span><span class="n">tar</span><span class="o">,</span> <span class="n">k</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">result</span> <span class="o">!=</span> <span class="mi">3</span><span class="o">)</span>
            <span class="n">result</span> <span class="o">|=</span> <span class="n">checkWinV</span><span class="o">(</span><span class="n">tar</span><span class="o">,</span> <span class="n">k</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">result</span> <span class="o">!=</span> <span class="mi">3</span><span class="o">)</span>
            <span class="n">result</span> <span class="o">|=</span> <span class="n">checkWinD</span><span class="o">(</span><span class="n">tar</span><span class="o">,</span> <span class="n">k</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;Neither&quot;</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">result</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span>
            <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;Red&quot;</span><span class="o">;</span>
        <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">result</span> <span class="o">==</span> <span class="mi">2</span><span class="o">)</span>
            <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;Blue&quot;</span><span class="o">;</span>
        <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">result</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span>
            <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;Both&quot;</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Case #%d: %s&quot;</span><span class="o">,</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">s</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
        </div>
        
        <div id="disqus_head" class="disqus_head">
  <h2>Comments</h2>
</div>
<div id="disqus_thread" class="disqus_thread"></div>
<script type="text/javascript" async=true src="//johnwong.disqus.com/embed.js"></script>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
    </div>
    <div class="col-md-3 index-right">

      <img class="gravatar index-gravatar" alt="John Wong" src="http://gravatar.duoshuo.com/avatar/135dee388c0976f500748a64960038ee?s=240">
<h1 class="index-me">
  <span>John Wong <a href="https://github.com/JohnWong">@Github</a></span>
</h1>
<div class="vcard-stats">
  <a class="vcard-stat" href="https://github.com/JohnWong/followers">
    <strong class="vcard-stat-count">20</strong> followers
  </a>
  <a class="vcard-stat" href="https://github.com/stars/JohnWong">
    <strong class="vcard-stat-count">43</strong> Starred
  </a>
  <a class="vcard-stat" href="https://github.com/JohnWong/following">
    <strong class="vcard-stat-count">10</strong> Following
  </a>
  <div class="cf"></div>
</div>

    </div>
  </div>
</div>
      </div>
    </div>
    
    <footer class="jw-docs-footer" role="contentinfo">
  <div class="container">
    <div class="jw-docs-social">
      <ul class="jw-docs-social-buttons">
        <li class="github-btn">
          <iframe class="github-btn" src="http://ghbtns.com/github-btn.html?user=JohnWong&type=follow&count=true&size=small" width="165" height="20" title="Follow on GitHub"></iframe>
        </li>
        <li class="github-btn">
          <iframe class="github-btn" src="http://pytool.sinaapp.com/wb-btn?user=2180280355&type=follow&count=true&size=small&encoding=utf-8" width="160" height="20" title="Follow on Weibo"></iframe>
        </li>
        <!-- 解决linkedin抓数据500错误前关闭按钮
                    <li class="github-btn">
                        <iframe class="github-btn" src="http://pytool.sinaapp.com/in-btn?user=xiaozhe-huang/4b/204/71b&count=true&size=small&encoding=utf-8" width="202" height="20" title="Follow on Weibo"></iframe>
                    </li>
                -->
      </ul>
    </div>
    <p>自豪地采用自己做的博客系统
      <br class="footer-desc-endline">with the help of <a href="http://getbootstrap.com/">Twitter Bootstrap</a> & <a href="https://github.com/jekyll/jekyll">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>
      <p>
        <ul class="jw-docs-footer-links muted">
          <li>© 2014 • <a href="https://github.com/JohnWong">John Wong</a> <span class="rss-subscribe"> | subscribe <a href="/feed.xml">via RSS</a></span>
          </li>
        </ul>
  </div>
  <div style="display:none">
    <div style="display: none !important"
<span id='cnzz_stat_icon_1252918306'></span>
<script src='http://s23.cnzz.com/z_stat.php?id=1252918306' type='text/javascript'></script>
    <script>
(function(i, s, o, g, r, a, m) {
  i['GoogleAnalyticsObject'] = r;
  i[r] = i[r] || function() {
    (i[r].q = i[r].q || []).push(arguments)
  }, i[r].l = 1 * new Date();
  a = s.createElement(o),
    m = s.getElementsByTagName(o)[0];
  a.async = 1;
  a.src = g;
  m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

ga('create', 'UA-53121297-1', 'auto');
ga('send', 'pageview');
</script>
  </div>
</footer>

  </body>

</html>
