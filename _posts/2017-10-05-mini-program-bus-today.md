---
layout: post
title: "微信小程序体验"
category: mobile
description: 感受了下微信小程序的开发体验，顺便做了个公交应用
thumb: /images/2017-10-05-mini-program-bus-today.jpg
---

中秋假期比较空闲，做了一个微信小程序的应用。感受了下小程序的开发体验，顺便做了公交应用。这样就能手机删掉应用节约内存。

## 开发感受

小程序的用户体验介于前端页面和原生之间。一些容易感受到非原生体验的控件比如tabbar、地图等采用了原生控件做展现。小程序可以将之前千奇百怪的前端页面功能，收归到一套规范中来，用户体验有了很大的提升。相比于原生应用不必下载占用空间。这也是我想做应用的原因，因为手机内存快爆掉了，而公交又是平时使用频率比较高的应用。

开发过程中，采用前端的语法来编写，但是页面生命周期跟原生开发接近。有一定基础的话上手还是比较快的。react的思想需要花一点时间来适应，但是几天时间从学习到写出应用并不难。

开发过程中感觉控件不是很完善。像search bar这样的常用组件没有提供。地图的常用控件都没有提供。如果提供这些能大大加快开发时间。而且小程序目前问题还不少。开发过程中就遇到过一些，比如

- 手机上出现`onUnload`和`onHide`里清理timer但是仍然在跑。
- tab页面切换过程中导航栏标题不正确。
- 开发工具上设置颜色跟手机上展示不同。
- 横向滚动的scroll view内无法触发下拉刷新。

## 审核发布

小程序的审核相比苹果容易多了。我凑合做出一版来提交审核，很快就通过了。自己试了一下有明显的bug也没有影响审核。发布过程不能像苹果一样审核通过自动发布，需要再手动发布。这一点值得吐槽。收到审核通过消息的时候手边只有手机，用手机打开网页发布，没有做移动端适配，还需要手机扫码。

## 应用信息


源代码：[https://github.com/JohnWong/bus-minigram/tree/master](https://github.com/JohnWong/bus-minigram/tree/master)

![截图](/images/2017-10-05-mini-program-bus-today-1.jpg)

![二维码](/images/2017-10-05-mini-program-bus-today-2.jpg)
